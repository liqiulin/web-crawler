package com.thzj.webcrawler.crawler.ctq.service;

import com.thzj.webcrawler.crawler.ctq.model.InvestInstitution;
import com.thzj.webcrawler.crawler.ctq.service.impl.GrabInvestInstitutionServiceImpl;
import com.thzj.webcrawler.util.JSONUtil;
import lombok.extern.slf4j.Slf4j;
import org.junit.Test;

import java.util.Arrays;
import java.util.List;
import java.util.Map;
import java.util.stream.Collectors;

@Slf4j
public class GrabInvestInstitutionServiceTest {
    GrabInvestInstitutionService grabInvestInstitutionService = new GrabInvestInstitutionServiceImpl();
    @Test
    public void grabInvestInstitutionInfoTest() {
        //List<String> userIdList = grabInvestorService.getUserIds();
        Map<String, InvestInstitution> result;
        List<String> userIds = Arrays.stream(ints).map(integer -> integer.toString()).collect(Collectors.toList());
//        List<String> userIds = Lists.newArrayList();
//        userIds.add("198");
        System.out.println(userIds.size());
        result = grabInvestInstitutionService.grabInvestInstitutionInfo(userIds);
        log.info("{}", JSONUtil.object2json(result));
    }

    @Test
    public void getInstitutionIdsTest() {
        List<String> userIdList;
        userIdList = grabInvestInstitutionService.getInstitutionIds();

        System.out.println(userIdList);
    }


/*
    private final static Integer[] ints = {188, 637, 2996, 491, 273, 538, 2842, 311, 1932, 2962, 2995, 2752, 3019, 3020,

                2776, 575, 1137, 2982, 5145, 565, 574, 6729, 859, 2139, 4192, 2937, 915, 1695, 2207, 2986, 2656, 6752, 2926,
            2193, 2978, 2979, 3004, 3013, 198, 2774, 2785, 2928, 5768, 5297, 2999, 446, 3018, 3857, 6465, 1134, 2787, 2809,
            6701, 2896, 1382, 690, 1214, 2764, 1262, 1545, 2109, 2897, 2901, 1878, 2972, 1181, 1579, 5695, 2888, 2149, 2960,
            2963, 3006, 2755, 3014, 3015, 3021, 3054, 512, 6232, 1656, 1660, 2956, 1683, 6058, 1476, 1227, 719, 1245, 1526,
            2889, 2916, 1385, 2947, 2973, 2980, 1720, 2879, 1624, 2936, 2959, 6699, 366, 1395, 676, 2021, 1289, 1575, 1587,
            576, 2941, 389, 3976, 2954, 1676, 2195, 2723, 2998, 3001, 2768, 1533, 1282, 1313, 924, 5791, 1499, 1033, 2827,
            1449, 2991, 484, 2997, 1376, 2961, 3005, 2772, 2823, 2826, 1047, 2844, 1337, 317, 1418, 665, 2206, 441, 1211,
            3003, 970, 223, 2783, 480, 1522, 2304, 1285, 1295, 281, 6682, 302, 838, 1671, 926, 2984, 2746, 2754, 3017, 6370,
            6641, 2807, 1022, 525, 2863, 1075, 1845, 2887, 2893, 2990, 2992, 1208, 5868, 2841, 554, 1591, 2908, 909, 240, 496,
            2881, 2913, 621, 2682, 1690, 4553, 1605, 1612, 1367, 4188, 619, 1667, 2988, 2765, 2511, 982, 6686, 2862, 823, 1879,
            887, 3023, 3078, 6712, 2634, 1356, 2920, 879, 1413, 6279, 1674, 1167, 1722, 2790, 521, 2839, 1320, 1582, 1388, 1689,
            948, 5589, 2268, 846, 871, 875, 1654, 1182, 4270, 329, 585, 362, 1924, 1133, 1244, 1060, 1085, 1130, 722, 745, 6688,
            2868, 335, 2642, 1113, 6751, 674, 6620, 2825, 1564, 2985, 2274, 2824, 2850, 2855, 303, 1342, 1389, 881, 2938, 904,
            1691, 688, 438, 1286, 1426, 220, 1000, 1002, 4541, 858, 973, 494, 1543, 2883, 2911, 2989, 6099, 477, 844, 2647, 6749,
            1120, 1412, 1677, 1049, 282, 1865, 849, 1375, 1439, 3022, 1287, 363, 4498, 697, 5349, 1266, 5625, 6728, 1374, 6494,
            1645, 1658, 6552, 6561, 4011, 6656, 2894, 337, 2701, 2740, 2512, 6668, 1477, 1433, 2820, 6723, 877, 1135, 2946, 298,
            613, 647, 1669, 6707, 1115, 367, 2313, 6680, 798, 913, 1432, 6727, 1619, 1392, 2949, 1972, 503, 2902, 222, 229, 1035,
            842, 1127, 6050, 1485, 4435, 1281, 1583, 1159, 487, 1259, 6753, 2966, 2748, 1800, 1100, 1403, 734, 6637, 6650, 518,
            2840, 850, 2760, 6354, 1647, 3718, 2957, 351, 2276, 571, 3388, 841, 983, 2777, 6674, 3243, 3000, 6438, 5693, 1886,
            1637, 1193, 6211, 1136, 658, 403, 1260, 2816, 1107, 2662, 2987, 6710, 2877, 1621, 6504, 2983, 1988, 6368, 6371, 6692,
            359, 1537, 2860, 1095, 1790, 2836, 343, 2918, 997, 4323, 5619, 1597, 6165, 3365, 1129, 1902, 370, 2321, 6697, 2871, 2890,
            6291, 669, 2042, 5412, 230, 1305, 1475, 2795, 1011, 2423, 840, 6592, 1546, 1576, 1335, 409, 339, 1417, 959, 6711, 6249, 1396,
            3984, 1441, 6708, 683, 977, 966, 773, 2950, 2731, 1057, 1938, 814, 5202, 347, 5606, 2034, 1562, 1568, 1366, 1212, 1272, 1152,
            5928, 6538, 2747, 1242, 2781, 2818, 687, 593, 857, 591, 1446, 2993, 2838, 280, 2848, 2851, 827, 1620, 2952, 3722, 1951, 2738,
            2672, 1661, 2847, 1072, 6238, 4463, 4788, 489, 1531, 1265, 1288, 1566, 1078, 1088, 2976, 711, 216, 1241, 6718, 1350, 3225,
            5244, 1161, 927, 465, 627, 372, 1741, 1058, 5091, 2942, 457, 264, 6212, 1617, 1025, 2804, 6444, 467, 5313, 1348, 1102, 2905,
            632, 1064, 376, 6155, 781, 6171, 2734, 4650, 6497, 2969, 193, 2788, 1823, 334, 3701, 486, 6174, 672, 6577, 2120, 1448, 1705,
            399, 1646, 6286, 698, 2757, 1651, 1271, 3602, 1128, 1437, 6739, 2912, 892, 1547, 2784, 470, 6542, 258, 1542, 584, 1431, 6200,
            6726, 2904, 869, 1145, 1401, 2968, 3265, 4094, 1387, 2828, 315, 1911, 726, 4088, 2372, 411, 1143, 526, 323, 1604, 6725, 2891,
            3670, 1933, 1015, 1312, 1680, 935, 2771, 5897, 5657, 2876, 863, 874, 439, 2797, 6700, 2866, 6589, 1239, 1670, 5312, 474, 4627,
            1070, 358, 488, 2832, 1321, 607, 2753, 2811, 5672, 5676, 2165, 662, 1440, 1257, 6378, 1283, 4006, 2874, 1251, 5899, 4916, 2914,
            1707, 191, 6704, 2789, 6133, 2892, 1240, 6721, 2101, 418, 4599, 582, 2538, 1141, 1186, 939, 1040, 5769, 1430, 5811, 965, 2810};
*/

    private final static Integer[] ints = {188, 637, 2996, 491, 273, 538, 2842, 311, 1932, 2962, 2995, 2752, 3019, 3020,
            2193, 2978, 2979, 3004, 3013, 198, 2774, 2785, 2928, 5768, 5297, 2999, 446, 3018, 3857, 6465, 1134, 2787, 2809};
}
